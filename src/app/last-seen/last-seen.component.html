@if (latestMovies | async; as movies) {
  <div class="current-movie">
    <div class="main-data">
      <div class="row">
        <app-poster-simple [movie]="movies[selected]"></app-poster-simple>
        <div class="metadata">
          <span class="actors-label selected">Avec</span>
          <div class="actors">
            @for (act of movies[selected].actors; track act) {
              <app-person-detailed class="first-role" [person]="act"></app-person-detailed>
            }
          </div>
        </div>
        <div class="data">
          <div>
            <span class="length">{{lengthToString(movies[selected]!.length!)}}</span>
            <span class="year">{{movies[selected].year}}</span>
          </div>
          <span class="title">{{movies[selected].titleFr}}</span>
          <span class="sub-title">{{movies[selected].titleFr !== movies[selected].title ? movies[selected].title : '&nbsp;'}}</span>
          <span class="directors">De
            @for (dir of movies[selected].directors; track dir) {
              <a [routerLink]="['/movies', { dirs: dir.id }]">{{dir.firstname + ' ' + dir.lastname}}</a>
            }
          </span>
          <span class="categories">@for (category of movies[selected].categories; track category) {
            <a [routerLink]="['movies', {cats: category.id}]">{{category.name}}</a>
          }</span>
        </div>
      </div>
    </div>
    @if (movies[selected].oscars | async; as oscars) {
      @if (getOscarsWon(oscars).length + getOscarsNominations(oscars).length > 0) {
        <div class="oscars">
          @if (oscarWon) {
            <span>{{ oscarWon }} Oscar</span>
          }
          @if (oscarNominee) {
            <span>{{ oscarNominee }} nomination{{ oscarNominee > 1 ? 's' : '' }}</span>
          }
        </div>
      }
    }
    @if (movies[selected].otherActors | async; as others) {
      @if (others.length) {
        <div class="row others">
          <span class="other-actors-label">Avec aussi</span>
        </div>
        <div class="row other-actors">
          @for (act of others; track act) {
            <app-person-detailed [width]="120" [height]="150" [person]="act"></app-person-detailed>
          }
        </div>
      }
    }
  </div>
  <div class="latest-movies row">
    @for (movie of movies; track movie; let i = $index) {
      <div class="movie">
        <app-poster-detailed
          [movie]="movie"
          [class.selected]="i === selected"
        (click)="selected = i"></app-poster-detailed>
      </div>
    }
  </div>
}